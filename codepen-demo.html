<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beach Runner Game - CodePen Demo</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #f0f0f0;
            font-family: Arial, sans-serif;
        }
        .game-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
        }
        canvas {
            border: 2px solid #ddd;
            border-radius: 8px;
            display: block;
            margin: 0 auto;
        }
        .controls {
            text-align: center;
            margin-top: 15px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>üèñÔ∏è Beach Runner Game</h1>
        <canvas id="gameCanvas" width="800" height="300"></canvas>
        <div class="controls">
            <p><strong>Controls:</strong> Space/Up to Jump ‚Ä¢ Down to Duck ‚Ä¢ R to Restart</p>
            <p><strong>Score:</strong> <span id="score">00000</span></p>
        </div>
    </div>

    <script>
        // Game code from index.html
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreEl = document.getElementById('score');

        // Game state
        let gameRunning = true;
        let frameCount = 0;
        let timeAlive = 0;
        let score = 0;
        let gameSpeed = 2;
        let lastObstacle = 0;
        let obstacles = [];
        const ground = canvas.height - 50;

        // Crab object
        const crab = {
            x: 50,
            y: ground - 20,
            width: 20,
            height: 20,
            velocityY: 0,
            grounded: true,
            ducking: false,
            legFrame: 0,
            
            update() {
                if (!this.grounded) {
                    this.velocityY += 0.8; // Gravity
                    this.y += this.velocityY;
                    
                    if (this.y >= ground - this.height) {
                        this.y = ground - this.height;
                        this.velocityY = 0;
                        this.grounded = true;
                    }
                }
                
                // Leg animation
                if (this.grounded && gameRunning) {
                    this.legFrame = (frameCount / 10) % 2;
                }
            },
            
            jump() {
                if (this.grounded) {
                    this.velocityY = -15;
                    this.grounded = false;
                }
            },
            
            duck() {
                this.ducking = true;
                this.height = 12;
                this.y = ground - this.height;
            },
            
            stand() {
                this.ducking = false;
                this.height = 20;
                this.y = ground - this.height;
            },
            
            draw() {
                ctx.fillStyle = '#535353';
                
                // Main body
                ctx.fillRect(this.x + 4, this.y + 4, 12, 12);
                
                // Eyes
                ctx.fillStyle = '#ffffff';
                ctx.fillRect(this.x + 6, this.y + 6, 2, 2);
                ctx.fillRect(this.x + 10, this.y + 6, 2, 2);
                ctx.fillStyle = '#000000';
                ctx.fillRect(this.x + 7, this.y + 7, 1, 1);
                ctx.fillRect(this.x + 11, this.y + 7, 1, 1);
                
                // Legs
                ctx.fillStyle = '#535353';
                if (!this.ducking) {
                    // Standing legs
                    ctx.fillRect(this.x + 2, this.y + 8, 2, 4);
                    ctx.fillRect(this.x + 16, this.y + 8, 2, 4);
                    ctx.fillRect(this.x + 4, this.y + 16, 2, 4);
                    ctx.fillRect(this.x + 14, this.y + 16, 2, 4);
                    
                    // Animated legs
                    if (this.legFrame === 0) {
                        ctx.fillRect(this.x + 6, this.y + 18, 2, 3);
                        ctx.fillRect(this.x + 12, this.y + 18, 2, 3);
                    } else {
                        ctx.fillRect(this.x + 6, this.y + 19, 2, 2);
                        ctx.fillRect(this.x + 12, this.y + 19, 2, 2);
                    }
                } else {
                    // Ducking legs
                    ctx.fillRect(this.x + 4, this.y + 12, 2, 2);
                    ctx.fillRect(this.x + 14, this.y + 12, 2, 2);
                }
                
                // Claws
                ctx.fillStyle = '#ff6b6b';
                ctx.fillRect(this.x + 0, this.y + 10, 2, 2);
                ctx.fillRect(this.x + 18, this.y + 10, 2, 2);
            }
        };

        // Obstacle class
        class Obstacle {
            constructor(x, type) {
                this.x = x;
                this.type = type;
                
                if (type === 'sandcastle') {
                    this.width = 24;
                    this.height = 28;
                    this.y = ground - this.height;
                } else if (type === 'seagull') {
                    this.width = 20;
                    this.height = 12;
                    this.y = 60 + Math.random() * 15;
                }
            }
            
            update() {
                this.x -= gameSpeed;
            }
            
            draw() {
                if (this.type === 'sandcastle') {
                    // Clean silhouette sandcastle like the reference images
                    
                    // Main castle body - solid black
                    ctx.fillStyle = '#000000';
                    ctx.fillRect(this.x + 3, this.y + 20, 18, 8);
                    ctx.fillRect(this.x + 4, this.y + 18, 16, 2);
                    ctx.fillRect(this.x + 5, this.y + 16, 14, 2);
                    
                    // Center tower
                    ctx.fillRect(this.x + 8, this.y + 12, 8, 4);
                    ctx.fillRect(this.x + 9, this.y + 10, 6, 2);
                    
                    // Flag pole and flag
                    ctx.fillRect(this.x + 11, this.y + 8, 1, 3);
                    ctx.fillStyle = '#ff0000';
                    ctx.fillRect(this.x + 12, this.y + 8, 2, 2);
                    
                    // Cut out white details for silhouette effect
                    ctx.fillStyle = '#ffffff';
                    // Door (arched entrance)
                    ctx.fillRect(this.x + 10, this.y + 26, 4, 2);
                    // Windows on main body
                    ctx.fillRect(this.x + 6, this.y + 22, 2, 2);
                    ctx.fillRect(this.x + 16, this.y + 22, 2, 2);
                    // Window on center tower
                    ctx.fillRect(this.x + 10, this.y + 13, 2, 2);
                    // Crenellations (the classic up-down battlements)
                    ctx.fillRect(this.x + 5, this.y + 27, 2, 1);
                    ctx.fillRect(this.x + 9, this.y + 27, 2, 1);
                    ctx.fillRect(this.x + 13, this.y + 27, 2, 1);
                    ctx.fillRect(this.x + 17, this.y + 27, 2, 1);
                    // Tower crenellations
                    ctx.fillRect(this.x + 9, this.y + 11, 2, 1);
                    ctx.fillRect(this.x + 13, this.y + 11, 2, 1);
                    
                } else if (this.type === 'seagull') {
                    // Seagull - simple flying bird
                    ctx.fillStyle = '#535353';
                    
                    // Body
                    ctx.fillRect(this.x + 4, this.y + 4, 12, 4);
                    
                    // Wings
                    ctx.fillRect(this.x + 2, this.y + 2, 4, 2);
                    ctx.fillRect(this.x + 14, this.y + 2, 4, 2);
                    
                    // Head
                    ctx.fillRect(this.x + 14, this.y + 4, 3, 3);
                    
                    // Beak
                    ctx.fillStyle = '#ff6b6b';
                    ctx.fillRect(this.x + 17, this.y + 5, 2, 1);
                    
                    // Eye
                    ctx.fillStyle = '#ffffff';
                    ctx.fillRect(this.x + 15, this.y + 5, 1, 1);
                }
            }
            
            collidesWith(other) {
                return this.x < other.x + other.width &&
                       this.x + this.width > other.x &&
                       this.y < other.y + other.height &&
                       this.y + this.height > other.y;
            }
        }

        // Spawn obstacles
        function spawnObstacle() {
            const rand = Math.random();
            let type;
            if (rand < 0.8) {
                type = 'sandcastle';
            } else {
                type = 'seagull';
            }
            obstacles.push(new Obstacle(canvas.width, type));
        }

        // Draw functions
        function drawGround() {
            ctx.fillStyle = '#e8e8e8';
            ctx.fillRect(0, ground, canvas.width, canvas.height - ground);
            
            // Ground texture
            ctx.fillStyle = '#d8d8d8';
            for (let x = 0; x < canvas.width; x += 8) {
                ctx.fillRect(x, ground, 4, 2);
            }
        }

        function drawClouds() {
            ctx.fillStyle = '#ffffff';
            // Simple cloud shapes
            ctx.fillRect(50, 30, 20, 8);
            ctx.fillRect(45, 32, 30, 4);
            ctx.fillRect(200, 40, 15, 6);
            ctx.fillRect(195, 42, 25, 3);
            ctx.fillRect(400, 35, 18, 7);
            ctx.fillRect(395, 37, 28, 4);
        }

        function drawSun() {
            const cycleProgress = (frameCount % 7200) / 7200;
            
            let sunX, sunY;
            if (cycleProgress < 0.5) {
                const dayProgress = cycleProgress * 2;
                sunX = canvas.width - (dayProgress * canvas.width * 1.2) + 30;
                sunY = 40 - Math.sin(dayProgress * Math.PI) * 30;
            } else {
                sunX = -50;
                sunY = 150;
            }
            
            if (cycleProgress < 0.5) {
                ctx.fillStyle = '#d0d0d0';
                ctx.fillRect(sunX + 4, sunY + 4, 8, 8);
                ctx.fillRect(sunX + 2, sunY + 6, 12, 4);
                ctx.fillRect(sunX + 6, sunY + 2, 4, 12);
                
                ctx.fillRect(sunX - 2, sunY + 6, 4, 4);
                ctx.fillRect(sunX + 14, sunY + 6, 4, 4);
                ctx.fillRect(sunX + 6, sunY - 2, 4, 4);
                ctx.fillRect(sunX + 6, sunY + 14, 4, 4);
                
                ctx.fillRect(sunX + 2, sunY + 2, 3, 3);
                ctx.fillRect(sunX + 11, sunY + 2, 3, 3);
                ctx.fillRect(sunX + 2, sunY + 11, 3, 3);
                ctx.fillRect(sunX + 11, sunY + 11, 3, 3);
            }
        }

        function drawMoon() {
            const cycleProgress = (frameCount % 7200) / 7200;
            
            if (cycleProgress > 0.5) {
                const nightProgress = (cycleProgress - 0.5) * 2;
                const moonX = canvas.width - (nightProgress * canvas.width * 1.2) + 30;
                const moonY = 40 - Math.sin(nightProgress * Math.PI) * 30;
                
                // Simple triangle moon - no glow, just the triangle
                ctx.fillStyle = '#ffffff';
                
                // Triangle shape pointing right (like |>)
                ctx.fillRect(moonX + 4, moonY + 8, 8, 2);
                ctx.fillRect(moonX + 6, moonY + 10, 6, 2);
                ctx.fillRect(moonX + 8, moonY + 12, 4, 2);
                ctx.fillRect(moonX + 10, moonY + 14, 2, 2);
                ctx.fillRect(moonX + 6, moonY + 16, 6, 2);
                ctx.fillRect(moonX + 4, moonY + 18, 8, 2);
                
                // Moon craters for detail and visibility
                ctx.fillStyle = '#e0e0e0';
                ctx.fillRect(moonX + 8, moonY + 8, 3, 3);
                ctx.fillRect(moonX + 16, moonY + 12, 2, 2);
                ctx.fillRect(moonX + 12, moonY + 18, 2, 2);
            }
        }

        function updateGame() {
            if (!gameRunning) return;

            frameCount++;
            timeAlive = Math.floor(frameCount / 60);
            score = timeAlive;
            scoreEl.textContent = score.toString().padStart(5, '0');
            
            if (frameCount % 60 === 0) {
                gameSpeed += 0.1;
            }

            crab.update();

            const obstacleFrequency = Math.max(300 - Math.floor(timeAlive / 15) * 20, 120);
            if (frameCount - lastObstacle > obstacleFrequency + Math.random() * 180) {
                spawnObstacle();
                lastObstacle = frameCount;
            }

            for (let i = obstacles.length - 1; i >= 0; i--) {
                obstacles[i].update();
                
                if (obstacles[i].collidesWith(crab)) {
                    gameRunning = false;
                    break;
                }
                
                if (obstacles[i].x + obstacles[i].width < 0) {
                    obstacles.splice(i, 1);
                }
            }
        }

        function draw() {
            ctx.fillStyle = '#f7f7f7';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            drawClouds();
            drawSun();
            drawGround();
            crab.draw();
            
            obstacles.forEach(obstacle => obstacle.draw());
            
            // Day/night gradient overlay
            const cycleProgress = (frameCount % 7200) / 7200;
            const ditherHeight = Math.floor(canvas.height * 0.25);
            
            if (cycleProgress > 0.5) {
                const nightProgress = (cycleProgress - 0.5) * 2;
                const intensity = Math.min(nightProgress * 0.4, 0.4);
                
                for (let y = 0; y < ditherHeight; y++) {
                    const gradientProgress = y / ditherHeight;
                    const coverage = intensity * (1 - gradientProgress * 0.8);
                    
                    if (coverage > 0) {
                        ctx.fillStyle = '#535353';
                        for (let x = 0; x < canvas.width; x += 4) {
                            for (let y2 = y; y2 < y + 4; y2 += 4) {
                                const patternValue = ((x + y2) % 8) / 8;
                                if (patternValue < coverage) {
                                    ctx.fillRect(x, y2, 2, 2);
                                }
                                if ((patternValue + 0.5) % 1 < coverage) {
                                    ctx.fillRect(x + 2, y2 + 2, 2, 2);
                                }
                            }
                        }
                    }
                }
            }
            
            drawMoon();
            
            if (!gameRunning) {
                ctx.fillStyle = '#535353';
                ctx.font = '16px monospace';
                ctx.textAlign = 'center';
                ctx.fillText('G A M E  O V E R', canvas.width/2, canvas.height/2 - 10);
                ctx.font = '12px monospace';
                ctx.fillText('Press R to restart', canvas.width/2, canvas.height/2 + 10);
            }
        }

        function resetGame() {
            crab.y = ground - crab.height;
            crab.velocityY = 0;
            crab.grounded = true;
            crab.ducking = false;
            crab.legFrame = 0;
            obstacles = [];
            score = 0;
            timeAlive = 0;
            gameSpeed = 2;
            lastObstacle = 0;
            frameCount = 0;
            gameRunning = true;
            scoreEl.textContent = '00000';
        }

        function gameLoop() {
            updateGame();
            draw();
            requestAnimationFrame(gameLoop);
        }

        // Input handling
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space' || e.code === 'ArrowUp') {
                e.preventDefault();
                crab.jump();
            } else if (e.code === 'ArrowDown') {
                e.preventDefault();
                crab.duck();
            } else if (e.code === 'KeyR' && !gameRunning) {
                resetGame();
            }
        });

        document.addEventListener('keyup', (e) => {
            if (e.code === 'ArrowDown') {
                crab.stand();
            }
        });

        // Start the game
        gameLoop();
    </script>
</body>
</html> 